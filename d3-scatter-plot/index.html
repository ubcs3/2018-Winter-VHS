<!doctype html>

<html>

<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
</head>

<body>

<svg height="600" width="960" style="border: 1px solid black">

</svg>

<script>
var canvas = d3.select('svg');
var dataPoints = [];
var w = 960, h = 600, N = 200;

for(var i=0; i < N; i++) {
  var r = Math.round(255*Math.random());
  var g = Math.round(255*Math.random());
  var b = Math.round(255*Math.random());
  dataPoints.push([Math.random()*w,Math.random()*h,Math.random()*50,[r,g,b]]);
}

canvas.selectAll('circle').data(dataPoints).enter()
    .append('circle')
    .attr('cx', function (d) { return d[0];})
    .attr('cy', function (d) { return d[1];})
    .attr('r', function (d) { return d[2];})
    .attr('fill', function(d) {
      color = 'rgba(' + d[3][0] + ',' + d[3][1] + ',' + d[3][2] + ',0.5)';
      return color;
    });
    
</script>

</body>

</html>
